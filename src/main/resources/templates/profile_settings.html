<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:with="lang=${#locale.language}" th:lang="${lang}">
<head>
    <meta charset="UTF-8">
    <title>PreAcademic Info</title>
    <link rel="stylesheet" th:href="@{/css/common.css}"/>
    <link rel="stylesheet" th:href="@{/css/fragments/header.css}"/>
    <script th:src="@{/dependencies/jquery-3.3.1.min.js}"></script>
    <script th:src="@{/dependencies/bootstrap.min.js}"></script>
    <script th:src="@{/dependencies/bootstrapValidator.js}"></script>
    <link th:href="@{/dependencies/bootstrap.min.css} " rel="stylesheet">
    <script th:src="@{/js/common.js}"></script>
    <script th:src="@{/js/profile_settings.js}"></script>
    <script th:src="@{/js/fragments/lang-picker.js}"></script>
    <script th:src="@{/js/fragments/modals.js}"></script>
    <link rel="stylesheet" th:href="@{/css/fragments/modals.css}"/>
    <script th:inline="javascript">
        let user = /*[[${user}]]*/ '';
        console.log(user);
    </script>
    <script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js"
            integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0"
            crossorigin="anonymous"></script>
</head>
<body>
<div th:replace="fragments/header :: header(true)"></div>

<div class="emp-profile form-group" id="validator">
        <div class="row">
            <div class="col-lg-4">
                <div class="profile-img">
                    <img src="../../static/images/profile.jpg" th:src="@{/images/profile.jpg}" alt=""/>
                    <div class="file btn btn-lg btn-primary">
                        Change Photo
                        <input type="file" name="file"/>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <div id="profile-div" class="profile-head">
                    <div class="row" id="personal-details">
                        <div class="col-sm-12"><h4><b>Personal Details</b></h4></div>
                    </div>

                    <div class="row" id="password-settings" style="padding-top: 10px">
                        <div class="col-sm-4"><h4><b>Change Password</b></h4></div>
                        <div class="col-md-8">
                            <button type="button" onclick="change_password()" class="btn btn-danger" id="change_passwd-btn" name="Change">Change</button>
                            <button type="button" onclick="save_passwd()" class="btn btn-danger" id="save-btn" name="Save" style="display: none">Save</button>
                            <button type="button" onclick="cancel()" class="btn btn-default" id="cancel-btn" name="Cancel" style="display: none">Cancel</button>
                        </div>
                    </div>

                    <div class="row" id="profile-settings" style="padding-top: 20px">
                        <div class="col-sm-4"><h4><b>Profile Settings</b></h4></div>
                    </div>
                </div>
            </div>
        </div>
    <div th:replace="/fragments/modals :: response-modal ('modal_success', true, #{modal.response.success})"></div>
    <div th:replace="/fragments/modals :: response-modal ('modal_failure', false, #{modal.response.failure})"></div>
</div>
</body>
</html>

<script>
    $(document).ready(function(){
        create_user_details();
    });
</script>